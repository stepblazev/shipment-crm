<div class="vehicle">
    <div *ngIf="vehicle" class="vehicle__card" [ngClass]="{
        'vehicle__card--update': isEdit
    }">
        <h3 class="vehicle__title">{{ getFullName() }}</h3>

        <form class="mt-8 w-[800px]">
            <div class="vehicle__section">
                <h6 class="vehicle__section-title">Общие сведения</h6>
                <div class="control">
                    <label class="control__caption" for="id">ID</label>
                    <input type="text" id="id" class="control__input" [value]="vehicle.id" disabled />
                </div>
                <div class="mt-4 control">
                    <span class="control__caption">Статус</span>
                    <app-select [options]="statusOptions" [current]="currentStatusOption" (valueChanged)="this.currentStatusOption = $event" [allowEmpty]="false" [disabled]="!isEdit"  />
                </div>

                <div class="mt-4 flex gap-4">
                    <div class="basis-[25%] control">
                        <label class="control__caption" for="type">Тип</label>
                        <input type="text" id="type" class="control__input" [value]="vehicle.type"
                            [disabled]="!isEdit" />
                    </div>
                    <div class="basis-[25%] control">
                        <label class="control__caption" for="make">Марка</label>
                        <input type="text" id="make" class="control__input" [value]="vehicle.make"
                            [disabled]="!isEdit" />
                    </div>
                    <div class="basis-[25%] control">
                        <label class="control__caption" for="model">Модель</label>
                        <input type="text" id="model" class="control__input" [value]="vehicle.model"
                            [disabled]="!isEdit" />
                    </div>
                    <div class="basis-[25%] control">
                        <label class="control__caption" for="year">Год выпуска</label>
                        <input type="text" id="year" class="control__input" [value]="vehicle.year"
                            [disabled]="!isEdit" />
                    </div>
                </div>
                <div class="mt-4 control">
                    <label class="control__caption" for="load_capacity">Макс. вместимость</label>
                    <input type="text" id="load_capacity" class="control__input" [value]="vehicle.load_capacity ?? ''" placeholder="Не указано" [disabled]="!isEdit" />
                </div>
            </div>
            <div class="vehicle__section">
                <h6 class="vehicle__section-title">Сведения о регистрации</h6>
                <div class="flex gap-4">
                    <div class="basis-[33.333%] control">
                        <label class="control__caption" for="registration_number">Номер регистрации</label>
                        <input type="text" id="registration_number" class="control__input"
                            [value]="vehicle.registration_number" [disabled]="!isEdit" />
                    </div>
                    <div class="basis-[33.333%] control">
                        <label class="control__caption" for="registration_country">Страна регистрации</label>
                        <input type="text" id="registration_country" class="control__input"
                            [value]="vehicle.registration_country" [disabled]="!isEdit" />
                    </div>
                    <div class="basis-[33.333%] control">
                        <label class="control__caption" for="registration_state">Регион регистрации</label>
                        <input type="text" id="registration_state" class="control__input"
                            [value]="vehicle.registration_state" [disabled]="!isEdit" />
                    </div>
                </div>
            </div>
        </form>

        <div *ngIf="!isEdit" class="vehicle__controls">
            <button *ngIf="isEdit" type="button" (click)="update()" class="btn btn--success">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                    <use xlink:href="assets/icons/common.sprites.svg#edit"></use>
                </svg>
                Сохранить изменения
            </button>
            <button *ngIf="!isEdit" type="button" (click)="this.isEdit = true" class="btn">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                    <use xlink:href="assets/icons/common.sprites.svg#edit"></use>
                </svg>
                Редактировать
            </button>
            <button type="button" (click)="delete()" class="btn btn--error">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                    <use xlink:href="assets/icons/common.sprites.svg#trash-bin"></use>
                </svg>
                Удалить
            </button>
            <button type="button" routerLink="/vehicles" class="btn-alt">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                    <use xlink:href="assets/icons/common.sprites.svg#arrow-back"></use>
                </svg>
                Назад к списку
            </button>
        </div>

        <div *ngIf="isEdit" class="vehicle__controls">
            <button *ngIf="isEdit" type="button" (click)="update()" class="btn btn--success">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                    <use xlink:href="assets/icons/common.sprites.svg#save"></use>
                </svg>
                Сохранить изменения
            </button>
            <button type="button" routerLink="/vehicles" class="btn-alt">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                    <use xlink:href="assets/icons/common.sprites.svg#arrow-back"></use>
                </svg>
                Отменить изменения
            </button>
        </div>
    </div>

    <div *ngIf="!vehicle">
        <h3 class="mt-12 text-center opacity-50">Транспортное средство не найдено</h3>
    </div>
</div>